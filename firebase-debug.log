[debug] [2024-10-23T15:43:55.107Z] ----------------------------------------------------------------------
[debug] [2024-10-23T15:43:55.110Z] Command:       /Users/garymagill/.nvm/versions/node/v20.18.0/bin/node /Users/garymagill/.nvm/versions/node/v20.18.0/bin/firebase deploy --only functions
[debug] [2024-10-23T15:43:55.110Z] CLI Version:   13.22.1
[debug] [2024-10-23T15:43:55.110Z] Platform:      darwin
[debug] [2024-10-23T15:43:55.110Z] Node Version:  v20.18.0
[debug] [2024-10-23T15:43:55.110Z] Time:          Wed Oct 23 2024 09:43:55 GMT-0600 (Mountain Daylight Time)
[debug] [2024-10-23T15:43:55.110Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-10-23T15:43:55.147Z] Field ".functions" in "firebase.json" is possibly invalid: should be object
[debug] [2024-10-23T15:43:55.147Z] Object ".functions[0]" in "firebase.json" has unknown property: {"additionalProperty":"region"}
[debug] [2024-10-23T15:43:55.147Z] Field ".functions" in "firebase.json" is possibly invalid: should match some schema in anyOf
[debug] [2024-10-23T15:43:55.149Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-23T15:43:55.149Z] > authorizing via signed-in user (garymagill22@gmail.com)
[debug] [2024-10-23T15:43:55.149Z] [iam] checking project reactnativegolfapp for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-10-23T15:43:55.150Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:55.150Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:55.150Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:43:55.150Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:43:55.150Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-23T15:43:55.374Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:43:55.374Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-23T15:43:55.374Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:55.374Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:55.374Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-10-23T15:43:55.374Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-10-23T15:43:55.518Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-10-23T15:43:55.518Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'reactnativegolfapp'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-10-23T15:43:55.871Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:55.871Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:55.871Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp [none]
[debug] [2024-10-23T15:43:56.099Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp 200
[debug] [2024-10-23T15:43:56.099Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp {"projectId":"reactnativegolfapp","projectNumber":"466683770848","displayName":"ReactNativeGolfApp","name":"projects/reactnativegolfapp","resources":{"hostingSite":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_930efa1b-54b3-4393-af08-b572e1287533"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-10-23T15:43:56.100Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.100Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.100Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.100Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-10-23T15:43:56.100Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.100Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-10-23T15:43:56.101Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.101Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.101Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com [none]
[debug] [2024-10-23T15:43:56.101Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:43:56.102Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com [none]
[debug] [2024-10-23T15:43:56.102Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:43:56.103Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com [none]
[debug] [2024-10-23T15:43:56.103Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:43:56.104Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com [none]
[debug] [2024-10-23T15:43:56.104Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:43:56.303Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com 200
[debug] [2024-10-23T15:43:56.304Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-10-23T15:43:56.338Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com 200
[debug] [2024-10-23T15:43:56.338Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-10-23T15:43:56.339Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com 200
[debug] [2024-10-23T15:43:56.339Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-10-23T15:43:56.440Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com 200
[debug] [2024-10-23T15:43:56.440Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-10-23T15:43:56.440Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.441Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.441Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig [none]
[debug] [2024-10-23T15:43:56.669Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig 200
[debug] [2024-10-23T15:43:56.670Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig {"projectId":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"}
[debug] [2024-10-23T15:43:56.671Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.671Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.671Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs [none]
[debug] [2024-10-23T15:43:56.834Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs 200
[debug] [2024-10-23T15:43:56.834Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs {"configs":[{"name":"projects/reactnativegolfapp/configs/stripe"}]}
[debug] [2024-10-23T15:43:56.835Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.835Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.835Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables [none]
[debug] [2024-10-23T15:43:56.925Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables 200
[debug] [2024-10-23T15:43:56.925Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables {"variables":[{"name":"projects/reactnativegolfapp/configs/stripe/variables/webhook_secret","updateTime":"2024-10-23T15:33:14.155765211Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/webhooksecret","updateTime":"2024-10-17T18:03:10.569415988Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/publishablekey","updateTime":"2024-10-17T18:02:33.202446114Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/secret","updateTime":"2024-10-18T21:30:14.334002841Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/secretkey","updateTime":"2024-10-17T17:59:55.013485911Z"}]}
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.926Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.927Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.927Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:43:56.927Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret [none]
[debug] [2024-10-23T15:43:56.927Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret [none]
[debug] [2024-10-23T15:43:56.931Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey [none]
[debug] [2024-10-23T15:43:56.933Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret [none]
[debug] [2024-10-23T15:43:56.935Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey [none]
[debug] [2024-10-23T15:43:57.018Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret 200
[debug] [2024-10-23T15:43:57.019Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret {"name":"projects/reactnativegolfapp/configs/stripe/variables/webhook_secret","updateTime":"2024-10-23T15:33:14.155765211Z","text":"whsec_kn7WG6XC1hE2F0dTpp1LGFp4nDNRjPDI"}
[debug] [2024-10-23T15:43:57.020Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret 200
[debug] [2024-10-23T15:43:57.020Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret {"name":"projects/reactnativegolfapp/configs/stripe/variables/secret","updateTime":"2024-10-18T21:30:14.334002841Z","text":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V"}
[debug] [2024-10-23T15:43:57.034Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret 200
[debug] [2024-10-23T15:43:57.034Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret {"name":"projects/reactnativegolfapp/configs/stripe/variables/webhooksecret","updateTime":"2024-10-17T18:03:10.569415988Z","text":"we_1O4XPtHJaZP62m3Kfsqk9nPp"}
[debug] [2024-10-23T15:43:57.035Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey 200
[debug] [2024-10-23T15:43:57.035Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey {"name":"projects/reactnativegolfapp/configs/stripe/variables/secretkey","updateTime":"2024-10-17T17:59:55.013485911Z","text":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V"}
[debug] [2024-10-23T15:43:57.035Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey 200
[debug] [2024-10-23T15:43:57.035Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey {"name":"projects/reactnativegolfapp/configs/stripe/variables/publishablekey","updateTime":"2024-10-17T18:02:33.202446114Z","text":"pk_test_51NpbUBHJaZP62m3KKuApJPp7c67kL8vOpxwCr4ZDVxgDE1c01CpnNqSNbURSEzKnyGTOEtVLOV38NOq3pRDY29Px00WnKFvNsV"}
[debug] [2024-10-23T15:43:57.037Z] Validating nodejs source
[debug] [2024-10-23T15:43:57.402Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.21.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.2.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-23T15:43:57.403Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-10-23T15:43:57.403Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-23T15:43:57.407Z] Found firebase-functions binary at '/Users/garymagill/Documents/GitHub/New-All-Square/Golf-App/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8420

[debug] [2024-10-23T15:43:57.767Z] Got response from /__/functions.yaml {"endpoints":{"createCustomer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"createCustomer"},"fundWallet":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"fundWallet"},"handlePaymentIntentSucceeded":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"handlePaymentIntentSucceeded"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-10-23T15:44:01.787Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:01.787Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:01.787Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com [none]
[debug] [2024-10-23T15:44:01.787Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:01.983Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com 200
[debug] [2024-10-23T15:44:01.983Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-10-23T15:44:01.984Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-23T15:44:01.984Z] > authorizing via signed-in user (garymagill22@gmail.com)
[debug] [2024-10-23T15:44:01.984Z] [iam] checking project reactnativegolfapp for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-10-23T15:44:01.984Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:01.984Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:01.985Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:44:01.985Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:01.985Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-10-23T15:44:02.133Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:44:02.133Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-10-23T15:44:02.134Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:02.134Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:02.135Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances pageSize=100&pageToken=
[debug] [2024-10-23T15:44:02.375Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances 200
[debug] [2024-10-23T15:44:02.375Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/garymagill/Documents/GitHub/New-All-Square/Golf-App/functions (73.5 KB) for uploading 
[debug] [2024-10-23T15:44:02.409Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:02.409Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:02.409Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions [none]
[debug] [2024-10-23T15:44:02.967Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions 200
[debug] [2024-10-23T15:44:02.967Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions {}
[debug] [2024-10-23T15:44:02.968Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:02.968Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:02.968Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-10-23T15:44:03.310Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions 200
[debug] [2024-10-23T15:44:03.311Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions {"functions":[{"name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/d20a8c0f-2252-452b-afe3-1ca971fd7bce","runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729628358034462"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00010-wuk","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-22T20:20:19.699592015Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"8f831c02e6550146774ac653109873deef4741dd"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer","createTime":"2024-10-21T22:06:20.773345008Z"},{"name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/d20a8c0f-2252-452b-afe3-1ca971fd7bce","runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729628405052647"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00002-kuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-22T20:20:19.927096045Z","labels":{"deployment-callable":"true","firebase-functions-hash":"8f831c02e6550146774ac653109873deef4741dd","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet","createTime":"2024-10-22T18:53:39.647891365Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.312Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.312Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com [none]
[debug] [2024-10-23T15:44:03.312Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:03.313Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com [none]
[debug] [2024-10-23T15:44:03.313Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:03.313Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com [none]
[debug] [2024-10-23T15:44:03.313Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:03.314Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com [none]
[debug] [2024-10-23T15:44:03.314Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:03.486Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com 200
[debug] [2024-10-23T15:44:03.486Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-10-23T15:44:03.503Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com 200
[debug] [2024-10-23T15:44:03.504Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-10-23T15:44:03.524Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com 200
[debug] [2024-10-23T15:44:03.524Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-10-23T15:44:03.527Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com 200
[debug] [2024-10-23T15:44:03.527Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-10-23T15:44:03.527Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.527Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-10-23T15:44:03.527Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.527Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.527Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-23T15:44:03.528Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-23T15:44:03.888Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-23T15:44:03.888Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-466683770848@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114358922238337121419"}}
[debug] [2024-10-23T15:44:03.905Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-23T15:44:03.906Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-466683770848@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"100973313719186404262"}}
[debug] [2024-10-23T15:44:03.909Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.909Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:03.909Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp [none]
[debug] [2024-10-23T15:44:04.046Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp 200
[debug] [2024-10-23T15:44:04.046Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp {"projectId":"reactnativegolfapp","projectNumber":"466683770848","displayName":"ReactNativeGolfApp","name":"projects/reactnativegolfapp","resources":{"hostingSite":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_930efa1b-54b3-4393-af08-b572e1287533"}
[debug] [2024-10-23T15:44:04.049Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.049Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.049Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo [none]
[debug] [2024-10-23T15:44:04.198Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo 200
[debug] [2024-10-23T15:44:04.198Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo {"name":"projects/reactnativegolfapp/billingInfo","projectId":"reactnativegolfapp","billingAccountName":"billingAccounts/011EFD-9E45F6-5A55A2","billingEnabled":true}
[debug] [2024-10-23T15:44:04.201Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2024-10-23T15:44:04.201Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.201Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.201Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:44:04.202Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:44:04.202Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-10-23T15:44:04.258Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:44:04.258Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-10-23T15:44:04.258Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2024-10-23T15:44:04.259Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.259Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.259Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-10-23T15:44:04.387Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-10-23T15:44:04.388Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/dd0c5328-4714-4928-a0e4-54bd8efd7073.zip?GoogleAccessId=service-466683770848@gcf-admin-robot.iam.gserviceaccount.com&Expires=1729700044&Signature=HhDN2X2erOae7GEo%2F7VJOgO41Agw2Ob0s60SCGwVmrlq7WVO%2FjAAzQJorQgrslJnW9iz4y9XKFQ9QKKbiUy1zNlSN%2B%2F3jAhLRFJcxIAz4u%2FtxIv5t7e2%2B%2F4D6m1a8JpZPzwTkck8bfIGGDSaJj8X%2FPJop2LYTWueP9uVT%2Bh%2FjXGg%2BdBAxsMa6zuU7Y%2FCb0qHP11RZqWoaU%2FikZXBrhKPQ3%2B%2Ffb%2BwbnikoCag5NZOU38sNXBOIdteJSMhxypO2obM6DPS5Y1f%2FneAQfFBgKciQn9L3vL0rsVKBD1ecOCahN2ar3m4u057y%2BFAdpQ7XdyPYSXhe1s8XY3bZbQFxPYYyw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"dd0c5328-4714-4928-a0e4-54bd8efd7073.zip"}}
[debug] [2024-10-23T15:44:04.390Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/dd0c5328-4714-4928-a0e4-54bd8efd7073.zip GoogleAccessId=service-466683770848%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1729700044&Signature=HhDN2X2erOae7GEo%2F7VJOgO41Agw2Ob0s60SCGwVmrlq7WVO%2FjAAzQJorQgrslJnW9iz4y9XKFQ9QKKbiUy1zNlSN%2B%2F3jAhLRFJcxIAz4u%2FtxIv5t7e2%2B%2F4D6m1a8JpZPzwTkck8bfIGGDSaJj8X%2FPJop2LYTWueP9uVT%2Bh%2FjXGg%2BdBAxsMa6zuU7Y%2FCb0qHP11RZqWoaU%2FikZXBrhKPQ3%2B%2Ffb%2BwbnikoCag5NZOU38sNXBOIdteJSMhxypO2obM6DPS5Y1f%2FneAQfFBgKciQn9L3vL0rsVKBD1ecOCahN2ar3m4u057y%2BFAdpQ7XdyPYSXhe1s8XY3bZbQFxPYYyw%3D%3D
[debug] [2024-10-23T15:44:04.390Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/dd0c5328-4714-4928-a0e4-54bd8efd7073.zip [stream]
[debug] [2024-10-23T15:44:04.589Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/dd0c5328-4714-4928-a0e4-54bd8efd7073.zip 200
[debug] [2024-10-23T15:44:04.590Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/dd0c5328-4714-4928-a0e4-54bd8efd7073.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 20 (2nd Gen) function handlePaymentIntentSucceeded(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function createCustomer(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function fundWallet(us-central1)... 
[debug] [2024-10-23T15:44:04.597Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.597Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:04.597Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions functionId=handlePaymentIntentSucceeded
[debug] [2024-10-23T15:44:04.597Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions {"name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"dd0c5328-4714-4928-a0e4-54bd8efd7073.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"}}
[debug] [2024-10-23T15:44:05.313Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions 200
[debug] [2024-10-23T15:44:05.314Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:44:05.315Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:05.315Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:05.315Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:05.372Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:05.372Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:44:05.875Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:05.876Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:05.876Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:05.876Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:05.955Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:05.955Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-10-23T15:44:06.957Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:06.958Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:06.958Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:06.958Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:07.025Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:07.025Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:09.026Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:09.027Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:09.027Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:09.028Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:09.101Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:09.102Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:13.103Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:13.104Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:13.104Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:13.104Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:13.173Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:13.173Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:21.175Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:21.175Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:21.175Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:21.175Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:21.268Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:21.268Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:31.270Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:31.270Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:31.271Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:31.271Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:31.418Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:31.418Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:41.420Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:41.421Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:41.421Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:41.421Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:41.502Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:41.503Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:51.505Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:44:51.506Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:51.506Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:51.506Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:44:51.599Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:44:51.599Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/89292b5e-da40-4d39-aeb1-3c01d196e472?project=466683770848"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlepaymentintentsucceeded?project=reactnativegolfapp"}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:51.599Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:44:51.601Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:51.601Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:51.601Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:51.601Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:51.602Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/createCustomer updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-10-23T15:44:51.602Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/createCustomer {"name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"dd0c5328-4714-4928-a0e4-54bd8efd7073.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE="},"serviceConfig":{"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"}}
[debug] [2024-10-23T15:44:51.602Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/fundWallet updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-10-23T15:44:51.602Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/fundWallet {"name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"dd0c5328-4714-4928-a0e4-54bd8efd7073.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE="},"serviceConfig":{"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"}}
[debug] [2024-10-23T15:44:52.470Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/createCustomer 200
[debug] [2024-10-23T15:44:52.470Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/createCustomer {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.510274818Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:44:52.470Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:52.470Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:52.470Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 [none]
[debug] [2024-10-23T15:44:52.473Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/fundWallet 200
[debug] [2024-10-23T15:44:52.473Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/fundWallet {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.515420655Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:44:52.473Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:52.473Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:52.473Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed [none]
[debug] [2024-10-23T15:44:52.527Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed 200
[debug] [2024-10-23T15:44:52.527Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.515420655Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:44:52.537Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 200
[debug] [2024-10-23T15:44:52.537Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.510274818Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:44:53.029Z] [update-default-us-central1-fundWallet] Retrying task index 0
[debug] [2024-10-23T15:44:53.030Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:53.030Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:53.030Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed [none]
[debug] [2024-10-23T15:44:53.038Z] [update-default-us-central1-createCustomer] Retrying task index 0
[debug] [2024-10-23T15:44:53.038Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:53.038Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:53.038Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 [none]
[debug] [2024-10-23T15:44:53.135Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 200
[debug] [2024-10-23T15:44:53.135Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.510274818Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729698292332540"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00010-wuk","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},{"name":"SERVICE","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:53.135Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:44:53.136Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed 200
[debug] [2024-10-23T15:44:53.136Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.515420655Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729698292332423"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00002-kuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},{"name":"SERVICE","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:53.136Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:44:54.137Z] [update-default-us-central1-createCustomer] Retrying task index 0
[debug] [2024-10-23T15:44:54.138Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:54.138Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:54.138Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 [none]
[debug] [2024-10-23T15:44:54.139Z] [update-default-us-central1-fundWallet] Retrying task index 0
[debug] [2024-10-23T15:44:54.139Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:54.139Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:54.139Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed [none]
[debug] [2024-10-23T15:44:54.197Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 200
[debug] [2024-10-23T15:44:54.197Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.510274818Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729698292332540"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00010-wuk","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/createcustomer?project=reactnativegolfapp","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:54.197Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:44:54.204Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed 200
[debug] [2024-10-23T15:44:54.205Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.515420655Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729698292332423"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00002-kuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/fundwallet?project=reactnativegolfapp","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:54.205Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:44:56.198Z] [update-default-us-central1-createCustomer] Retrying task index 0
[debug] [2024-10-23T15:44:56.199Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:56.199Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:56.200Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 [none]
[debug] [2024-10-23T15:44:56.205Z] [update-default-us-central1-fundWallet] Retrying task index 0
[debug] [2024-10-23T15:44:56.206Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:56.206Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:44:56.206Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed [none]
[debug] [2024-10-23T15:44:56.253Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed 200
[debug] [2024-10-23T15:44:56.253Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.515420655Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729698292332423"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00002-kuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/fundwallet?project=reactnativegolfapp","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:56.254Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:44:56.268Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 200
[debug] [2024-10-23T15:44:56.269Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.510274818Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729698292332540"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00010-wuk","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/createcustomer?project=reactnativegolfapp","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472"},"done":false}
[debug] [2024-10-23T15:44:56.269Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:45:00.256Z] [update-default-us-central1-fundWallet] Retrying task index 0
[debug] [2024-10-23T15:45:00.257Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:00.257Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:00.257Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed [none]
[debug] [2024-10-23T15:45:00.270Z] [update-default-us-central1-createCustomer] Retrying task index 0
[debug] [2024-10-23T15:45:00.270Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:00.271Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:00.271Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 [none]
[debug] [2024-10-23T15:45:00.306Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed 200
[debug] [2024-10-23T15:45:00.307Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291751-62526c43f9a91-64e65d83-8afdf0ed","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.515420655Z","endTime":"2024-10-23T15:45:00.278154540Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729698292332423"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00002-kuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service fundwallet, Container Healthcheck failed. Revision 'fundwallet-00003-pex' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/fundwallet/revision_name/fundwallet-00003-pex&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22fundwallet%22%0Aresource.labels.revision_name%3D%22fundwallet-00003-pex%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-10-23T15:45:00.307Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service fundwallet, Container Healthcheck failed. Revision 'fundwallet-00003-pex' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/fundwallet/revision_name/fundwallet-00003-pex&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22fundwallet%22%0Aresource.labels.revision_name%3D%22fundwallet-00003-pex%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-10-23T15:45:00.358Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 200
[debug] [2024-10-23T15:45:00.358Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698291733-62526c43f554e-414f0f48-efe4cae0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:52.510274818Z","endTime":"2024-10-23T15:44:59.524457833Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729698292332540"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84OTI5MmI1ZS1kYTQwLTRkMzktYWViMS0zYzAxZDE5NmU0NzIShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI8LPkuAYQmOSQvAIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00010-wuk","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service createcustomer, Container Healthcheck failed. Revision 'createcustomer-00011-zat' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/createcustomer/revision_name/createcustomer-00011-zat&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22createcustomer%22%0Aresource.labels.revision_name%3D%22createcustomer-00011-zat%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-10-23T15:45:00.358Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service createcustomer, Container Healthcheck failed. Revision 'createcustomer-00011-zat' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/createcustomer/revision_name/createcustomer-00011-zat&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22createcustomer%22%0Aresource.labels.revision_name%3D%22createcustomer-00011-zat%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-10-23T15:45:01.600Z] [create-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:45:01.601Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.601Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.602Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 [none]
[debug] [2024-10-23T15:45:01.663Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 200
[debug] [2024-10-23T15:45:01.663Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698244717-62526c171eb6d-d3e7b5ef-bd329ad6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:44:05.352390232Z","endTime":"2024-10-23T15:44:59.849859964Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-hib' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-hib&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-hib%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-10-23T15:45:01.663Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-hib' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-hib&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-hib%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-10-23T15:45:01.672Z] Total Function Deployment time: 57072
[debug] [2024-10-23T15:45:01.672Z] 3 Functions Deployed
[debug] [2024-10-23T15:45:01.672Z] 3 Functions Errored
[debug] [2024-10-23T15:45:01.672Z] 0 Function Deployments Aborted
[debug] [2024-10-23T15:45:01.673Z] Average Function Deployment time: 56182
[info] 
[info] Functions deploy had errors with the following functions:
	createCustomer(us-central1)
	fundWallet(us-central1)
	handlePaymentIntentSucceeded(us-central1)
[debug] [2024-10-23T15:45:01.743Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-10-23T15:45:01.744Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.744Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.744Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.744Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.744Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.744Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.745Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.745Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.745Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer [none]
[debug] [2024-10-23T15:45:01.746Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet [none]
[debug] [2024-10-23T15:45:01.746Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded [none]
[debug] [2024-10-23T15:45:01.747Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:45:01.880Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer 404
[debug] [2024-10-23T15:45:01.881Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:45:01.885Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded 404
[debug] [2024-10-23T15:45:01.886Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:45:01.891Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet 404
[debug] [2024-10-23T15:45:01.891Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:45:01.913Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:45:01.914Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:45:01.914Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-10-23T15:45:01.917Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.917Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:01.917Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:45:01.995Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:45:01.995Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:45:01.995Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-10-23T15:45:02.097Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:02.097Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:45:02.098Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:45:02.305Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:45:02.306Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:45:02.306Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/reactnativegolfapp/us/gcf 
[debug] [2024-10-23T15:45:02.307Z] Functions deploy failed.
[debug] [2024-10-23T15:45:02.307Z] {
  "endpoint": {
    "id": "fundWallet",
    "project": "reactnativegolfapp",
    "region": "us-central1",
    "entryPoint": "fundWallet",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "STRIPE_SECRET_KEY": "sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V",
      "FIREBASE_CONFIG": "{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "reactnativegolfapp",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reactnativegolfapp/locations/us-central1/services/fundWallet"
    },
    "codebase": "default",
    "runServiceId": "fundwallet",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "d1e9c1940e91389ecc8b16aae4cb66ff710f7097"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service fundwallet, Container Healthcheck failed. Revision 'fundwallet-00003-pex' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/fundwallet/revision_name/fundwallet-00003-pex&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22fundwallet%22%0Aresource.labels.revision_name%3D%22fundwallet-00003-pex%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service fundwallet, Container Healthcheck failed. Revision 'fundwallet-00003-pex' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/fundwallet/revision_name/fundwallet-00003-pex&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22fundwallet%22%0Aresource.labels.revision_name%3D%22fundwallet-00003-pex%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-10-23T15:45:02.307Z] {
  "endpoint": {
    "id": "createCustomer",
    "project": "reactnativegolfapp",
    "region": "us-central1",
    "entryPoint": "createCustomer",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "STRIPE_SECRET_KEY": "sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V",
      "FIREBASE_CONFIG": "{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "reactnativegolfapp",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reactnativegolfapp/locations/us-central1/services/createCustomer"
    },
    "codebase": "default",
    "runServiceId": "createcustomer",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "d1e9c1940e91389ecc8b16aae4cb66ff710f7097"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service createcustomer, Container Healthcheck failed. Revision 'createcustomer-00011-zat' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/createcustomer/revision_name/createcustomer-00011-zat&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22createcustomer%22%0Aresource.labels.revision_name%3D%22createcustomer-00011-zat%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service createcustomer, Container Healthcheck failed. Revision 'createcustomer-00011-zat' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/createcustomer/revision_name/createcustomer-00011-zat&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22createcustomer%22%0Aresource.labels.revision_name%3D%22createcustomer-00011-zat%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-10-23T15:45:02.307Z] {
  "endpoint": {
    "id": "handlePaymentIntentSucceeded",
    "project": "reactnativegolfapp",
    "region": "us-central1",
    "entryPoint": "handlePaymentIntentSucceeded",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "STRIPE_SECRET_KEY": "sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V",
      "FIREBASE_CONFIG": "{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "reactnativegolfapp",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d1e9c1940e91389ecc8b16aae4cb66ff710f7097"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-hib' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-hib&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-hib%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-hib' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-hib&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-hib%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function fundWallet in region us-central1
[error] - Error Failed to update function createCustomer in region us-central1
[error] - Error Failed to create function handlePaymentIntentSucceeded in region us-central1
[debug] [2024-10-23T15:47:14.018Z] ----------------------------------------------------------------------
[debug] [2024-10-23T15:47:14.020Z] Command:       /Users/garymagill/.nvm/versions/node/v20.18.0/bin/node /Users/garymagill/.nvm/versions/node/v20.18.0/bin/firebase deploy --only functions:handlePaymentIntentSucceeded
[debug] [2024-10-23T15:47:14.020Z] CLI Version:   13.22.1
[debug] [2024-10-23T15:47:14.020Z] Platform:      darwin
[debug] [2024-10-23T15:47:14.020Z] Node Version:  v20.18.0
[debug] [2024-10-23T15:47:14.020Z] Time:          Wed Oct 23 2024 09:47:14 GMT-0600 (Mountain Daylight Time)
[debug] [2024-10-23T15:47:14.020Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-10-23T15:47:14.054Z] Field ".functions" in "firebase.json" is possibly invalid: should be object
[debug] [2024-10-23T15:47:14.054Z] Object ".functions[0]" in "firebase.json" has unknown property: {"additionalProperty":"region"}
[debug] [2024-10-23T15:47:14.054Z] Field ".functions" in "firebase.json" is possibly invalid: should match some schema in anyOf
[debug] [2024-10-23T15:47:14.056Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-23T15:47:14.056Z] > authorizing via signed-in user (garymagill22@gmail.com)
[debug] [2024-10-23T15:47:14.056Z] [iam] checking project reactnativegolfapp for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-10-23T15:47:14.057Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.057Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.057Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:47:14.057Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:14.057Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-23T15:47:14.233Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:47:14.233Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-23T15:47:14.233Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.233Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.233Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-10-23T15:47:14.233Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-10-23T15:47:14.321Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-10-23T15:47:14.321Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'reactnativegolfapp'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-10-23T15:47:14.693Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.693Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.693Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp [none]
[debug] [2024-10-23T15:47:14.811Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp 200
[debug] [2024-10-23T15:47:14.811Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp {"projectId":"reactnativegolfapp","projectNumber":"466683770848","displayName":"ReactNativeGolfApp","name":"projects/reactnativegolfapp","resources":{"hostingSite":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_930efa1b-54b3-4393-af08-b572e1287533"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:14.812Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.812Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.812Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.813Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:14.813Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.813Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:14.813Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.813Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:14.813Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com [none]
[debug] [2024-10-23T15:47:14.813Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:14.814Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com [none]
[debug] [2024-10-23T15:47:14.814Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:14.815Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com [none]
[debug] [2024-10-23T15:47:14.815Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:14.816Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com [none]
[debug] [2024-10-23T15:47:14.816Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:15.015Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com 200
[debug] [2024-10-23T15:47:15.015Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-10-23T15:47:15.019Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com 200
[debug] [2024-10-23T15:47:15.020Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-10-23T15:47:15.039Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com 200
[debug] [2024-10-23T15:47:15.039Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-10-23T15:47:15.040Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com 200
[debug] [2024-10-23T15:47:15.040Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-10-23T15:47:15.041Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.041Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.041Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig [none]
[debug] [2024-10-23T15:47:15.218Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig 200
[debug] [2024-10-23T15:47:15.218Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig {"projectId":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"}
[debug] [2024-10-23T15:47:15.219Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.219Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.219Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs [none]
[debug] [2024-10-23T15:47:15.335Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs 200
[debug] [2024-10-23T15:47:15.335Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs {"configs":[{"name":"projects/reactnativegolfapp/configs/stripe"}]}
[debug] [2024-10-23T15:47:15.336Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.336Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.336Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables [none]
[debug] [2024-10-23T15:47:15.421Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables 200
[debug] [2024-10-23T15:47:15.421Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables {"variables":[{"name":"projects/reactnativegolfapp/configs/stripe/variables/secret","updateTime":"2024-10-18T21:30:14.334002841Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/secretkey","updateTime":"2024-10-17T17:59:55.013485911Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/webhook_secret","updateTime":"2024-10-23T15:33:14.155765211Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/webhooksecret","updateTime":"2024-10-17T18:03:10.569415988Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/publishablekey","updateTime":"2024-10-17T18:02:33.202446114Z"}]}
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:15.422Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret [none]
[debug] [2024-10-23T15:47:15.423Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey [none]
[debug] [2024-10-23T15:47:15.426Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret [none]
[debug] [2024-10-23T15:47:15.429Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret [none]
[debug] [2024-10-23T15:47:15.431Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey [none]
[debug] [2024-10-23T15:47:15.508Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret 200
[debug] [2024-10-23T15:47:15.508Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret {"name":"projects/reactnativegolfapp/configs/stripe/variables/secret","updateTime":"2024-10-18T21:30:14.334002841Z","text":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V"}
[debug] [2024-10-23T15:47:15.525Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret 200
[debug] [2024-10-23T15:47:15.526Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret {"name":"projects/reactnativegolfapp/configs/stripe/variables/webhook_secret","updateTime":"2024-10-23T15:33:14.155765211Z","text":"whsec_kn7WG6XC1hE2F0dTpp1LGFp4nDNRjPDI"}
[debug] [2024-10-23T15:47:15.529Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey 200
[debug] [2024-10-23T15:47:15.529Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey {"name":"projects/reactnativegolfapp/configs/stripe/variables/publishablekey","updateTime":"2024-10-17T18:02:33.202446114Z","text":"pk_test_51NpbUBHJaZP62m3KKuApJPp7c67kL8vOpxwCr4ZDVxgDE1c01CpnNqSNbURSEzKnyGTOEtVLOV38NOq3pRDY29Px00WnKFvNsV"}
[debug] [2024-10-23T15:47:15.529Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret 200
[debug] [2024-10-23T15:47:15.529Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret {"name":"projects/reactnativegolfapp/configs/stripe/variables/webhooksecret","updateTime":"2024-10-17T18:03:10.569415988Z","text":"we_1O4XPtHJaZP62m3Kfsqk9nPp"}
[debug] [2024-10-23T15:47:15.549Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey 200
[debug] [2024-10-23T15:47:15.549Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey {"name":"projects/reactnativegolfapp/configs/stripe/variables/secretkey","updateTime":"2024-10-17T17:59:55.013485911Z","text":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V"}
[debug] [2024-10-23T15:47:15.550Z] Validating nodejs source
[debug] [2024-10-23T15:47:15.892Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.21.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.2.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-23T15:47:15.892Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-10-23T15:47:15.893Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-23T15:47:15.896Z] Found firebase-functions binary at '/Users/garymagill/Documents/GitHub/New-All-Square/Golf-App/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8332

[debug] [2024-10-23T15:47:16.131Z] Got response from /__/functions.yaml {"endpoints":{"createCustomer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"createCustomer"},"fundWallet":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"fundWallet"},"handlePaymentIntentSucceeded":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"handlePaymentIntentSucceeded"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:20.157Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.157Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.157Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com [none]
[debug] [2024-10-23T15:47:20.157Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:20.366Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com 200
[debug] [2024-10-23T15:47:20.367Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-10-23T15:47:20.367Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-23T15:47:20.368Z] > authorizing via signed-in user (garymagill22@gmail.com)
[debug] [2024-10-23T15:47:20.368Z] [iam] checking project reactnativegolfapp for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-10-23T15:47:20.368Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.368Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.368Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:47:20.368Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:20.368Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-10-23T15:47:20.506Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:47:20.507Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-10-23T15:47:20.508Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.508Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.509Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances pageSize=100&pageToken=
[debug] [2024-10-23T15:47:20.719Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances 200
[debug] [2024-10-23T15:47:20.719Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/garymagill/Documents/GitHub/New-All-Square/Golf-App/functions (73.5 KB) for uploading 
[debug] [2024-10-23T15:47:20.758Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.758Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:20.758Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions [none]
[debug] [2024-10-23T15:47:21.217Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions 200
[debug] [2024-10-23T15:47:21.217Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions {}
[debug] [2024-10-23T15:47:21.218Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.218Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.218Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-10-23T15:47:21.560Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions 200
[debug] [2024-10-23T15:47:21.560Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions {"functions":[{"name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729698292332540"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00011-zat","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-23T15:44:59.533438015Z","labels":{"deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer","createTime":"2024-10-21T22:06:20.773345008Z"},{"name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-10-23T15:44:59.858464883Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded","createTime":"2024-10-23T15:44:05.348938189Z"},{"name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729698292332423"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00003-pex","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-23T15:45:00.286620984Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet","createTime":"2024-10-22T18:53:39.647891365Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.564Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.564Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com [none]
[debug] [2024-10-23T15:47:21.564Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:21.565Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com [none]
[debug] [2024-10-23T15:47:21.565Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:21.567Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com [none]
[debug] [2024-10-23T15:47:21.567Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:21.569Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com [none]
[debug] [2024-10-23T15:47:21.569Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:47:21.773Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com 200
[debug] [2024-10-23T15:47:21.773Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-10-23T15:47:21.779Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com 200
[debug] [2024-10-23T15:47:21.779Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-10-23T15:47:21.805Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com 200
[debug] [2024-10-23T15:47:21.805Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-10-23T15:47:21.808Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com 200
[debug] [2024-10-23T15:47:21.808Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-10-23T15:47:21.809Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.809Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-10-23T15:47:21.809Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.809Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:21.809Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-23T15:47:21.810Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-23T15:47:22.027Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-23T15:47:22.027Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-466683770848@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"100973313719186404262"}}
[debug] [2024-10-23T15:47:22.095Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-23T15:47:22.095Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-466683770848@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114358922238337121419"}}
[debug] [2024-10-23T15:47:22.098Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.098Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.099Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp [none]
[debug] [2024-10-23T15:47:22.224Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp 200
[debug] [2024-10-23T15:47:22.224Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp {"projectId":"reactnativegolfapp","projectNumber":"466683770848","displayName":"ReactNativeGolfApp","name":"projects/reactnativegolfapp","resources":{"hostingSite":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_930efa1b-54b3-4393-af08-b572e1287533"}
[debug] [2024-10-23T15:47:22.225Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.225Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.225Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo [none]
[debug] [2024-10-23T15:47:22.333Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo 200
[debug] [2024-10-23T15:47:22.334Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo {"name":"projects/reactnativegolfapp/billingInfo","projectId":"reactnativegolfapp","billingAccountName":"billingAccounts/011EFD-9E45F6-5A55A2","billingEnabled":true}
[debug] [2024-10-23T15:47:22.336Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.336Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.336Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-10-23T15:47:22.499Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-10-23T15:47:22.499Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/bd67e664-764d-4d83-9858-3ed5160bf3d5.zip?GoogleAccessId=service-466683770848@gcf-admin-robot.iam.gserviceaccount.com&Expires=1729700242&Signature=DBqd%2Bu39U19kesexcyHsSAnORh6SiucC0STPn62Jkm9ieCtKIoj1%2BaQCLoNlpKT6sDn%2FIO6XeZetRaQk7JJAdDXY7LGHiJz52Bs338QyELtN%2BxVlGEjF2I8uRkEYQIn7HV3HQogNak59jhQSMT7Fe%2FoUB7nQgGXQtGx5izNAvWMChu3Zcc6pRKwLh9FYZWEDvcC%2FBFd3ZRsuDfBsszheCtFYmx77tXB%2BhEODSXltJEFn950Wy0L%2FHNdXMwatDsF1aZxbYwEtnhy%2BjrqWx1B6RB8FfBNrNmuL7%2BlLsBzFInehvCfQBna%2FZ7G%2BT%2F%2BOCpaA%2Fyd5usfrZbsuG%2BDRWztvKA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"bd67e664-764d-4d83-9858-3ed5160bf3d5.zip"}}
[debug] [2024-10-23T15:47:22.502Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/bd67e664-764d-4d83-9858-3ed5160bf3d5.zip GoogleAccessId=service-466683770848%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1729700242&Signature=DBqd%2Bu39U19kesexcyHsSAnORh6SiucC0STPn62Jkm9ieCtKIoj1%2BaQCLoNlpKT6sDn%2FIO6XeZetRaQk7JJAdDXY7LGHiJz52Bs338QyELtN%2BxVlGEjF2I8uRkEYQIn7HV3HQogNak59jhQSMT7Fe%2FoUB7nQgGXQtGx5izNAvWMChu3Zcc6pRKwLh9FYZWEDvcC%2FBFd3ZRsuDfBsszheCtFYmx77tXB%2BhEODSXltJEFn950Wy0L%2FHNdXMwatDsF1aZxbYwEtnhy%2BjrqWx1B6RB8FfBNrNmuL7%2BlLsBzFInehvCfQBna%2FZ7G%2BT%2F%2BOCpaA%2Fyd5usfrZbsuG%2BDRWztvKA%3D%3D
[debug] [2024-10-23T15:47:22.502Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/bd67e664-764d-4d83-9858-3ed5160bf3d5.zip [stream]
[debug] [2024-10-23T15:47:22.677Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/bd67e664-764d-4d83-9858-3ed5160bf3d5.zip 200
[debug] [2024-10-23T15:47:22.677Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/bd67e664-764d-4d83-9858-3ed5160bf3d5.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function handlePaymentIntentSucceeded(us-central1)... 
[debug] [2024-10-23T15:47:22.685Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.685Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:22.685Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-10-23T15:47:22.686Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded {"name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"bd67e664-764d-4d83-9858-3ed5160bf3d5.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"}}
[debug] [2024-10-23T15:47:23.568Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded 200
[debug] [2024-10-23T15:47:23.568Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:47:23.569Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:23.569Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:23.569Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:23.626Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:23.626Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:47:24.128Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:24.129Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:24.129Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:24.130Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:24.179Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:24.179Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-10-23T15:47:25.181Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:25.182Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:25.182Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:25.182Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:25.240Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:25.240Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:47:27.242Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:27.243Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:27.243Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:27.243Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:27.315Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:27.316Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:47:31.318Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:31.319Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:31.319Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:31.319Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:31.389Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:31.389Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:47:39.391Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:39.392Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:39.392Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:39.392Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:39.491Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:39.491Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:47:49.493Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:49.494Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:49.494Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:49.494Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:49.601Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:49.601Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:47:59.603Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:47:59.604Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:59.604Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:47:59.604Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:47:59.709Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:47:59.709Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:48:09.711Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:48:09.712Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:09.712Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:09.712Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:48:09.804Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:48:09.805Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/eba746c0-f030-4e78-ab34-f1acf251e8f7?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7"},"done":false}
[debug] [2024-10-23T15:48:19.806Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:48:19.806Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.806Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.807Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee [none]
[debug] [2024-10-23T15:48:19.884Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee 200
[debug] [2024-10-23T15:48:19.884Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729698442807-62526cd408a41-082dc037-98aa1aee","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:47:23.613418057Z","endTime":"2024-10-23T15:48:18.616355964Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698245046700"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-lif' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-lif&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-lif%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-10-23T15:48:19.884Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-lif' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-lif&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-lif%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-10-23T15:48:19.887Z] Total Function Deployment time: 57203
[debug] [2024-10-23T15:48:19.888Z] 1 Functions Deployed
[debug] [2024-10-23T15:48:19.888Z] 1 Functions Errored
[debug] [2024-10-23T15:48:19.888Z] 0 Function Deployments Aborted
[debug] [2024-10-23T15:48:19.888Z] Average Function Deployment time: 57202
[info] 
[info] Functions deploy had errors with the following functions:
	handlePaymentIntentSucceeded(us-central1)
[debug] [2024-10-23T15:48:19.938Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-10-23T15:48:19.939Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.939Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.939Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.939Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.939Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.939Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.940Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.940Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:19.940Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer [none]
[debug] [2024-10-23T15:48:19.940Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet [none]
[debug] [2024-10-23T15:48:19.941Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded [none]
[debug] [2024-10-23T15:48:19.941Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:48:20.025Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer 404
[debug] [2024-10-23T15:48:20.025Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:48:20.028Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded 404
[debug] [2024-10-23T15:48:20.028Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:48:20.056Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:48:20.056Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:48:20.056Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-10-23T15:48:20.058Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:20.058Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:20.058Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:48:20.061Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet 404
[debug] [2024-10-23T15:48:20.061Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:48:20.122Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:48:20.122Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:48:20.122Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-10-23T15:48:20.224Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:20.224Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:48:20.224Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:48:20.288Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:48:20.288Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:48:20.288Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/reactnativegolfapp/us/gcf 
[debug] [2024-10-23T15:48:20.288Z] Functions deploy failed.
[debug] [2024-10-23T15:48:20.288Z] {
  "endpoint": {
    "id": "handlePaymentIntentSucceeded",
    "project": "reactnativegolfapp",
    "region": "us-central1",
    "entryPoint": "handlePaymentIntentSucceeded",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "STRIPE_SECRET_KEY": "sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V",
      "FIREBASE_CONFIG": "{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "reactnativegolfapp",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": true,
    "hash": "d1e9c1940e91389ecc8b16aae4cb66ff710f7097"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-lif' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-lif&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-lif%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00001-lif' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00001-lif&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00001-lif%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-10-23T15:48:20.309Z] Error: Failed to update function handlePaymentIntentSucceeded in region us-central1
    at /Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2024-10-23T15:56:42.199Z] ----------------------------------------------------------------------
[debug] [2024-10-23T15:56:42.204Z] Command:       /Users/garymagill/.nvm/versions/node/v20.18.0/bin/node /Users/garymagill/.nvm/versions/node/v20.18.0/bin/firebase deploy --only functions:handlePaymentIntentSucceeded
[debug] [2024-10-23T15:56:42.204Z] CLI Version:   13.22.1
[debug] [2024-10-23T15:56:42.204Z] Platform:      darwin
[debug] [2024-10-23T15:56:42.204Z] Node Version:  v20.18.0
[debug] [2024-10-23T15:56:42.204Z] Time:          Wed Oct 23 2024 09:56:42 GMT-0600 (Mountain Daylight Time)
[debug] [2024-10-23T15:56:42.204Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-10-23T15:56:42.239Z] Field ".functions" in "firebase.json" is possibly invalid: should be object
[debug] [2024-10-23T15:56:42.239Z] Object ".functions[0]" in "firebase.json" has unknown property: {"additionalProperty":"region"}
[debug] [2024-10-23T15:56:42.240Z] Field ".functions" in "firebase.json" is possibly invalid: should match some schema in anyOf
[debug] [2024-10-23T15:56:42.241Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-23T15:56:42.242Z] > authorizing via signed-in user (garymagill22@gmail.com)
[debug] [2024-10-23T15:56:42.242Z] [iam] checking project reactnativegolfapp for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-10-23T15:56:42.242Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:42.242Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:42.243Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:56:42.243Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:42.243Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-23T15:56:42.440Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:56:42.440Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-23T15:56:42.440Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:42.441Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:42.441Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-10-23T15:56:42.441Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-10-23T15:56:42.644Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-10-23T15:56:42.644Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/reactnativegolfapp/serviceAccounts/reactnativegolfapp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'reactnativegolfapp'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-10-23T15:56:43.164Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.164Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.164Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp [none]
[debug] [2024-10-23T15:56:43.337Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp 200
[debug] [2024-10-23T15:56:43.337Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp {"projectId":"reactnativegolfapp","projectNumber":"466683770848","displayName":"ReactNativeGolfApp","name":"projects/reactnativegolfapp","resources":{"hostingSite":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_930efa1b-54b3-4393-af08-b572e1287533"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.339Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.339Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com [none]
[debug] [2024-10-23T15:56:43.339Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:43.341Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com [none]
[debug] [2024-10-23T15:56:43.341Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:43.342Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com [none]
[debug] [2024-10-23T15:56:43.342Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:43.343Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com [none]
[debug] [2024-10-23T15:56:43.343Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:43.775Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com 200
[debug] [2024-10-23T15:56:43.775Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-10-23T15:56:43.776Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com 200
[debug] [2024-10-23T15:56:43.776Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-10-23T15:56:43.777Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com 200
[debug] [2024-10-23T15:56:43.777Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-10-23T15:56:43.779Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com 200
[debug] [2024-10-23T15:56:43.779Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-10-23T15:56:43.779Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.779Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.779Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig [none]
[debug] [2024-10-23T15:56:43.993Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig 200
[debug] [2024-10-23T15:56:43.993Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp/adminSdkConfig {"projectId":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"}
[debug] [2024-10-23T15:56:43.994Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.994Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:43.995Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs [none]
[debug] [2024-10-23T15:56:44.179Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs 200
[debug] [2024-10-23T15:56:44.179Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs {"configs":[{"name":"projects/reactnativegolfapp/configs/stripe"}]}
[debug] [2024-10-23T15:56:44.180Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.180Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.180Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables [none]
[debug] [2024-10-23T15:56:44.254Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables 200
[debug] [2024-10-23T15:56:44.255Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables {"variables":[{"name":"projects/reactnativegolfapp/configs/stripe/variables/webhooksecret","updateTime":"2024-10-17T18:03:10.569415988Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/publishablekey","updateTime":"2024-10-17T18:02:33.202446114Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/secret","updateTime":"2024-10-18T21:30:14.334002841Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/secretkey","updateTime":"2024-10-17T17:59:55.013485911Z"},{"name":"projects/reactnativegolfapp/configs/stripe/variables/webhook_secret","updateTime":"2024-10-23T15:33:14.155765211Z"}]}
[debug] [2024-10-23T15:56:44.255Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.255Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.255Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.255Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:44.256Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret [none]
[debug] [2024-10-23T15:56:44.257Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey [none]
[debug] [2024-10-23T15:56:44.260Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret [none]
[debug] [2024-10-23T15:56:44.263Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey [none]
[debug] [2024-10-23T15:56:44.265Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret [none]
[debug] [2024-10-23T15:56:44.342Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret 200
[debug] [2024-10-23T15:56:44.342Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhooksecret {"name":"projects/reactnativegolfapp/configs/stripe/variables/webhooksecret","updateTime":"2024-10-17T18:03:10.569415988Z","text":"we_1O4XPtHJaZP62m3Kfsqk9nPp"}
[debug] [2024-10-23T15:56:44.362Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey 200
[debug] [2024-10-23T15:56:44.362Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secretkey {"name":"projects/reactnativegolfapp/configs/stripe/variables/secretkey","updateTime":"2024-10-17T17:59:55.013485911Z","text":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V"}
[debug] [2024-10-23T15:56:44.368Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret 200
[debug] [2024-10-23T15:56:44.369Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/webhook_secret {"name":"projects/reactnativegolfapp/configs/stripe/variables/webhook_secret","updateTime":"2024-10-23T15:33:14.155765211Z","text":"whsec_kn7WG6XC1hE2F0dTpp1LGFp4nDNRjPDI"}
[debug] [2024-10-23T15:56:44.369Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret 200
[debug] [2024-10-23T15:56:44.370Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/secret {"name":"projects/reactnativegolfapp/configs/stripe/variables/secret","updateTime":"2024-10-18T21:30:14.334002841Z","text":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V"}
[debug] [2024-10-23T15:56:44.370Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey 200
[debug] [2024-10-23T15:56:44.370Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reactnativegolfapp/configs/stripe/variables/publishablekey {"name":"projects/reactnativegolfapp/configs/stripe/variables/publishablekey","updateTime":"2024-10-17T18:02:33.202446114Z","text":"pk_test_51NpbUBHJaZP62m3KKuApJPp7c67kL8vOpxwCr4ZDVxgDE1c01CpnNqSNbURSEzKnyGTOEtVLOV38NOq3pRDY29Px00WnKFvNsV"}
[debug] [2024-10-23T15:56:44.372Z] Validating nodejs source
[debug] [2024-10-23T15:56:44.721Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.21.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.2.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-23T15:56:44.721Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-10-23T15:56:44.721Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-23T15:56:44.725Z] Found firebase-functions binary at '/Users/garymagill/Documents/GitHub/New-All-Square/Golf-App/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8728

[debug] [2024-10-23T15:56:45.067Z] Got response from /__/functions.yaml {"endpoints":{"createCustomer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"createCustomer"},"fundWallet":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"fundWallet"},"handlePaymentIntentSucceeded":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"handlePaymentIntentSucceeded"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:49.089Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.090Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.090Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com [none]
[debug] [2024-10-23T15:56:49.090Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:49.312Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com 200
[debug] [2024-10-23T15:56:49.313Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-10-23T15:56:49.313Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-23T15:56:49.314Z] > authorizing via signed-in user (garymagill22@gmail.com)
[debug] [2024-10-23T15:56:49.314Z] [iam] checking project reactnativegolfapp for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-10-23T15:56:49.314Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.314Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.314Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions [none]
[debug] [2024-10-23T15:56:49.314Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:49.314Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-10-23T15:56:49.455Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions 200
[debug] [2024-10-23T15:56:49.455Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reactnativegolfapp:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-10-23T15:56:49.456Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.456Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.457Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances pageSize=100&pageToken=
[debug] [2024-10-23T15:56:49.671Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances 200
[debug] [2024-10-23T15:56:49.672Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/reactnativegolfapp/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/garymagill/Documents/GitHub/New-All-Square/Golf-App/functions (73.5 KB) for uploading 
[debug] [2024-10-23T15:56:49.709Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.709Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:49.709Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions [none]
[debug] [2024-10-23T15:56:50.101Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions 200
[debug] [2024-10-23T15:56:50.101Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/reactnativegolfapp/locations/-/functions {}
[debug] [2024-10-23T15:56:50.101Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.102Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.102Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-10-23T15:56:50.428Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions 200
[debug] [2024-10-23T15:56:50.428Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/-/functions {"functions":[{"name":"projects/reactnativegolfapp/locations/us-central1/functions/createCustomer","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","runtime":"nodejs20","entryPoint":"createCustomer","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"createCustomer/function-source.zip","generation":"1729698292332540"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/createcustomer","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/createCustomer","FUNCTION_TARGET":"createCustomer","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://createcustomer-guii54d3cq-uc.a.run.app","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"createcustomer-00011-zat","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-23T15:44:59.533438015Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/createCustomer","createTime":"2024-10-21T22:06:20.773345008Z"},{"name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/eba746c0-f030-4e78-ab34-f1acf251e8f7","runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729698443561620"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-23T15:48:18.621953564Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded","createTime":"2024-10-23T15:44:05.348938189Z"},{"name":"projects/reactnativegolfapp/locations/us-central1/functions/fundWallet","buildConfig":{"build":"projects/466683770848/locations/us-central1/builds/89292b5e-da40-4d39-aeb1-3c01d196e472","runtime":"nodejs20","entryPoint":"fundWallet","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"fundWallet/function-source.zip","generation":"1729698292332423"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/fundwallet","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/fundWallet","FUNCTION_TARGET":"fundWallet","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"fundwallet-00003-pex","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-10-23T15:45:00.286620984Z","labels":{"firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/fundWallet","createTime":"2024-10-22T18:53:39.647891365Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.430Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.431Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com [none]
[debug] [2024-10-23T15:56:50.431Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:50.431Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com [none]
[debug] [2024-10-23T15:56:50.431Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:50.432Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com [none]
[debug] [2024-10-23T15:56:50.432Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:50.433Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com [none]
[debug] [2024-10-23T15:56:50.433Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com x-goog-quota-user=projects/reactnativegolfapp
[debug] [2024-10-23T15:56:50.611Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com 200
[debug] [2024-10-23T15:56:50.611Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-10-23T15:56:50.617Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com 200
[debug] [2024-10-23T15:56:50.617Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-10-23T15:56:50.620Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com 200
[debug] [2024-10-23T15:56:50.621Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-10-23T15:56:50.634Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com 200
[debug] [2024-10-23T15:56:50.634Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reactnativegolfapp/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-10-23T15:56:50.635Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.635Z] Checked if tokens are valid: true, expires at: 1729700722893
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-10-23T15:56:50.635Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.635Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.635Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-23T15:56:50.636Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-23T15:56:50.827Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-23T15:56:50.828Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-466683770848@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114358922238337121419"}}
[debug] [2024-10-23T15:56:50.958Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-23T15:56:50.958Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/466683770848/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-466683770848@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"100973313719186404262"}}
[debug] [2024-10-23T15:56:50.961Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.961Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:50.961Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp [none]
[debug] [2024-10-23T15:56:51.156Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp 200
[debug] [2024-10-23T15:56:51.157Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reactnativegolfapp {"projectId":"reactnativegolfapp","projectNumber":"466683770848","displayName":"ReactNativeGolfApp","name":"projects/reactnativegolfapp","resources":{"hostingSite":"reactnativegolfapp","storageBucket":"reactnativegolfapp.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_930efa1b-54b3-4393-af08-b572e1287533"}
[debug] [2024-10-23T15:56:51.159Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:51.159Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:51.159Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo [none]
[debug] [2024-10-23T15:56:51.346Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo 200
[debug] [2024-10-23T15:56:51.346Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/reactnativegolfapp/billingInfo {"name":"projects/reactnativegolfapp/billingInfo","projectId":"reactnativegolfapp","billingAccountName":"billingAccounts/011EFD-9E45F6-5A55A2","billingEnabled":true}
[debug] [2024-10-23T15:56:51.349Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:51.349Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:51.349Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-10-23T15:56:51.474Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-10-23T15:56:51.474Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/7d6b873a-5428-4bff-94e3-f92f188583fb.zip?GoogleAccessId=service-466683770848@gcf-admin-robot.iam.gserviceaccount.com&Expires=1729700811&Signature=b2CRXf%2FzJ%2BLiSPqTcu4AVNdpx0v2K8q3SACQkqA899DyOdeTnFgoTXRcDwwY4qKxcHAg7wM01I49k0rYd%2FWz13b7Cb6t5%2BOPx5FStK97r3ZF1xgardqoJvueYai84fkpW7DM2hoDLQf4owkLlxrB0%2FZi8u1qDa2xg6Nif0EZqLbFrEGo%2B3N63ODPlsc%2BY7DuZZMaD7zW2v1ZAUPB3NNxO4ILlJCPtF89INl2bBco63fzAivuFsajF5Be6SEygWJvZWajkeVmHN7qT2A5h5jx9tfKxDT0p%2FMDlPd5RZPNeapZTb%2FxKIGqzNWLn%2FKjX3RRXFX%2B%2BZFiH8ROc%2FRGNs%2FEAQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"7d6b873a-5428-4bff-94e3-f92f188583fb.zip"}}
[debug] [2024-10-23T15:56:51.476Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/7d6b873a-5428-4bff-94e3-f92f188583fb.zip GoogleAccessId=service-466683770848%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1729700811&Signature=b2CRXf%2FzJ%2BLiSPqTcu4AVNdpx0v2K8q3SACQkqA899DyOdeTnFgoTXRcDwwY4qKxcHAg7wM01I49k0rYd%2FWz13b7Cb6t5%2BOPx5FStK97r3ZF1xgardqoJvueYai84fkpW7DM2hoDLQf4owkLlxrB0%2FZi8u1qDa2xg6Nif0EZqLbFrEGo%2B3N63ODPlsc%2BY7DuZZMaD7zW2v1ZAUPB3NNxO4ILlJCPtF89INl2bBco63fzAivuFsajF5Be6SEygWJvZWajkeVmHN7qT2A5h5jx9tfKxDT0p%2FMDlPd5RZPNeapZTb%2FxKIGqzNWLn%2FKjX3RRXFX%2B%2BZFiH8ROc%2FRGNs%2FEAQ%3D%3D
[debug] [2024-10-23T15:56:51.476Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/7d6b873a-5428-4bff-94e3-f92f188583fb.zip [stream]
[debug] [2024-10-23T15:56:51.651Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/7d6b873a-5428-4bff-94e3-f92f188583fb.zip 200
[debug] [2024-10-23T15:56:51.652Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-466683770848-us-central1/7d6b873a-5428-4bff-94e3-f92f188583fb.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function handlePaymentIntentSucceeded(us-central1)... 
[debug] [2024-10-23T15:56:51.658Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:51.658Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:51.659Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-10-23T15:56:51.659Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded {"name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-uploads-466683770848-us-central1","object":"7d6b873a-5428-4bff-94e3-f92f188583fb.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"}}
[debug] [2024-10-23T15:56:52.347Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded 200
[debug] [2024-10-23T15:56:52.347Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:56:52.348Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:52.348Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:52.348Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:56:52.412Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:56:52.412Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-23T15:56:52.915Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:56:52.916Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:52.916Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:52.916Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:56:53.004Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:56:53.004Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-10-23T15:56:54.007Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:56:54.007Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:54.008Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:54.008Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:56:54.079Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:56:54.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8186fea3-1ddf-4772-80a9-ed8ef4998fd1?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1"},"done":false}
[debug] [2024-10-23T15:56:56.080Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:56:56.081Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:56.081Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:56:56.081Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:56:56.171Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:56:56.171Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8186fea3-1ddf-4772-80a9-ed8ef4998fd1?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1"},"done":false}
[debug] [2024-10-23T15:57:00.172Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:57:00.173Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:00.173Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:00.173Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:57:00.222Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:57:00.223Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8186fea3-1ddf-4772-80a9-ed8ef4998fd1?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1"},"done":false}
[debug] [2024-10-23T15:57:08.224Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:57:08.224Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:08.225Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:08.225Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:57:08.345Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:57:08.345Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8186fea3-1ddf-4772-80a9-ed8ef4998fd1?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1"},"done":false}
[debug] [2024-10-23T15:57:18.346Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:57:18.347Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:18.347Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:18.348Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:57:18.442Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:57:18.442Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8186fea3-1ddf-4772-80a9-ed8ef4998fd1?project=466683770848"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1"},"done":false}
[debug] [2024-10-23T15:57:28.444Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:57:28.444Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:28.444Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:28.444Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:57:28.513Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:57:28.513Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8186fea3-1ddf-4772-80a9-ed8ef4998fd1?project=466683770848"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlepaymentintentsucceeded?project=reactnativegolfapp","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84MTg2ZmVhMy0xZGRmLTQ3NzItODBhOS1lZDhlZjQ5OThmZDEShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI47nkuAYQ+L2p7wEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/466683770848/locations/us-central1/builds/8186fea3-1ddf-4772-80a9-ed8ef4998fd1"},"done":false}
[debug] [2024-10-23T15:57:28.514Z] Got source token Cldwcm9qZWN0cy80NjY2ODM3NzA4NDgvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84MTg2ZmVhMy0xZGRmLTQ3NzItODBhOS1lZDhlZjQ5OThmZDEShwF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9yZWFjdG5hdGl2ZWdvbGZhcHAvZ2NmLWFydGlmYWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHBfX3VzLS1jZW50cmFsMV9faGFuZGxlX3BheW1lbnRfaW50ZW50X3N1Y2NlZWRlZDp2ZXJzaW9uXzEY4O+UxMoNIlhwcm9qZWN0cy9yZWFjdG5hdGl2ZWdvbGZhcHAvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9oYW5kbGVQYXltZW50SW50ZW50U3VjY2VlZGVkKgwI47nkuAYQ+L2p7wEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2024-10-23T15:57:38.515Z] [update-default-us-central1-handlePaymentIntentSucceeded] Retrying task index 0
[debug] [2024-10-23T15:57:38.516Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.516Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.516Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 [none]
[debug] [2024-10-23T15:57:38.596Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 200
[debug] [2024-10-23T15:57:38.596Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89 {"name":"projects/reactnativegolfapp/locations/us-central1/operations/operation-1729699011787-62526ef2a7a39-e2514c12-2b5c7c89","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-23T15:56:52.386590565Z","endTime":"2024-10-23T15:57:32.180668429Z","target":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/reactnativegolfapp/locations/us-central1/functions/handlePaymentIntentSucceeded","buildConfig":{"runtime":"nodejs20","entryPoint":"handlePaymentIntentSucceeded","source":{"storageSource":{"bucket":"gcf-v2-sources-466683770848-us-central1","object":"handlePaymentIntentSucceeded/function-source.zip","generation":"1729699012330789"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/reactnativegolfapp/serviceAccounts/466683770848-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/reactnativegolfapp/locations/us-central1/services/handlepaymentintentsucceeded","timeoutSeconds":60,"environmentVariables":{"STRIPE_SECRET_KEY":"sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V","FIREBASE_CONFIG":"{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"reactnativegolfapp","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded","FUNCTION_TARGET":"handlePaymentIntentSucceeded","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"466683770848-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"handlepaymentintentsucceeded-00001-lif","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"d1e9c1940e91389ecc8b16aae4cb66ff710f7097"},"environment":"GEN_2","url":"https://us-central1-reactnativegolfapp.cloudfunctions.net/handlePaymentIntentSucceeded"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00002-kuc' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00002-kuc&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00002-kuc%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-10-23T15:57:38.596Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00002-kuc' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00002-kuc&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00002-kuc%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-10-23T15:57:38.604Z] Total Function Deployment time: 46942
[debug] [2024-10-23T15:57:38.604Z] 1 Functions Deployed
[debug] [2024-10-23T15:57:38.605Z] 1 Functions Errored
[debug] [2024-10-23T15:57:38.605Z] 0 Function Deployments Aborted
[debug] [2024-10-23T15:57:38.605Z] Average Function Deployment time: 46941
[info] 
[info] Functions deploy had errors with the following functions:
	handlePaymentIntentSucceeded(us-central1)
[debug] [2024-10-23T15:57:38.661Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-10-23T15:57:38.661Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.661Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.661Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.661Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.661Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.662Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.662Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.662Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.662Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer [none]
[debug] [2024-10-23T15:57:38.663Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet [none]
[debug] [2024-10-23T15:57:38.664Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded [none]
[debug] [2024-10-23T15:57:38.664Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:57:38.801Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer 404
[debug] [2024-10-23T15:57:38.802Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/create_customer\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:57:38.803Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet 404
[debug] [2024-10-23T15:57:38.803Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/fund_wallet\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:57:38.810Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded 404
[debug] [2024-10-23T15:57:38.810Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded {"error":{"code":404,"message":"Package \"projects/reactnativegolfapp/locations/us-central1/repositories/gcf-artifacts/packages/handle_payment_intent_succeeded\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-10-23T15:57:38.865Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:57:38.866Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:57:38.866Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-10-23T15:57:38.868Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.868Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:38.868Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:57:38.945Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:57:38.945Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:57:38.945Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-10-23T15:57:39.048Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:39.048Z] Checked if tokens are valid: true, expires at: 1729700722893
[debug] [2024-10-23T15:57:39.048Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list [none]
[debug] [2024-10-23T15:57:39.123Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list 404
[debug] [2024-10-23T15:57:39.123Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reactnativegolfapp/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-10-23T15:57:39.123Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/reactnativegolfapp/us/gcf 
[debug] [2024-10-23T15:57:39.124Z] Functions deploy failed.
[debug] [2024-10-23T15:57:39.125Z] {
  "endpoint": {
    "id": "handlePaymentIntentSucceeded",
    "project": "reactnativegolfapp",
    "region": "us-central1",
    "entryPoint": "handlePaymentIntentSucceeded",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "STRIPE_SECRET_KEY": "sk_test_51NpbUBHJaZP62m3KB8kpiqr61EMoKAJ5Q76w0IwVrLO86reoXUxkTJBvsMlF1XuACRCKTiN0blHChIXP4HuGYiVn00fEsyC31V",
      "FIREBASE_CONFIG": "{\"projectId\":\"reactnativegolfapp\",\"storageBucket\":\"reactnativegolfapp.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "reactnativegolfapp",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reactnativegolfapp/locations/us-central1/services/handlePaymentIntentSucceeded"
    },
    "codebase": "default",
    "runServiceId": "handlepaymentintentsucceeded",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": true,
    "hash": "d1e9c1940e91389ecc8b16aae4cb66ff710f7097"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00002-kuc' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00002-kuc&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00002-kuc%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service handlepaymentintentsucceeded, Container Healthcheck failed. Revision 'handlepaymentintentsucceeded-00002-kuc' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=reactnativegolfapp&resource=cloud_run_revision/service_name/handlepaymentintentsucceeded/revision_name/handlepaymentintentsucceeded-00002-kuc&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlepaymentintentsucceeded%22%0Aresource.labels.revision_name%3D%22handlepaymentintentsucceeded-00002-kuc%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-10-23T15:57:39.146Z] Error: Failed to update function handlePaymentIntentSucceeded in region us-central1
    at /Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/Users/garymagill/.nvm/versions/node/v20.18.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
